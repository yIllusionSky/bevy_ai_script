# Language

BScript语言

## 基本类型
数字、字符串、数组、字典、组件、对象、null

所有类型都可以发生运算，并且运算结果为前面的类型

例如：C=A+B,C的类型会与A一样，而B会隐式转换为A的类型

#### 1. 数字

数字由分子分母组成(有限)，支持+,-,*,/,%,^运算，数字除以0会报错

#### 2. 字符串

字符串由字符组成，支持+和[..]运算

#### 3. 数组

数组由多个数字组成，可以+,-,*,/,%,^运算，数组的运算会对每个元素进行运算
使用:运算符代表点运算，例如：[1,2,3]:*[2,3,4]代表点乘

数字+数组会把数组转换成数组和的形式

数组同样支持[..]运算，可以通过a[0]的形式获取数组的值，同时，数组可以通过.len添加数组

#### 4. 对象

对象可以看作一个表，通过a.b=c的形式可以给对象赋值，对象的值可以是任意类型

对象的值可以通过a[b]的形式获取，如果a中没有b，则返回null

对象可以看作一个entity

#### null类型

null类型代表该值为null，可以用if来判断是否为null，同时，如果一个值为null，可以使用?直接返回null

## ecs类型

同时也是关键字，可以通过query["实体名称"]来获取实体，可以通过传入字符串来拿到实体

通过query<a|b>可以拿到最后一个查询组件的实体

## 语法

#### 1. 变量

变量可以通过a=1的形式赋值，变量可以是任意类型

#### 2. 函数

函数分为几种，分别是普通函数，事件函数，事件函数无法pub

同时，函数也可以给默认值，在顶部

定义：
(pub) fn function(input):
  ..
  output

状态类型：start,update(time),fixed_update(time),exit,自定义(即普通函数)

同时，在顶部可以定义状态，状态的定义为：
@State

注意：定义了状态的函数无法指定pub，并且无法被其他模块调用

#### 3. 注释

注释可以通过#来进行注释

#### 4. 文件

所有非pub的函数都无法被调用，并且所有pub的函数可以直接被上层模块调用(无法被上上层调用)

#### 5. 状态

全局有且仅存在唯一一个状态Main

#### 6. 生命周期

一个函数的生命周期就是从他的定义到他的结束
